<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OnlineLp 竞价模拟可视化</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
</head>
<body class="bg-light">

<nav class="navbar navbar-expand-lg navbar-dark bg-dark mb-4">
    <div class="container">
        <a class="navbar-brand" href="#">OnlineLp 竞价模拟器</a>
        <span class="navbar-text text-light" id="advertiser-info">
            <!-- 广告主信息将通过JS加载 -->
        </span>
    </div>
</nav>

<div class="container">
    <!-- 概览卡片 -->
    <div class="row mb-4">
        <div class="col-md-3">
            <div class="card text-center h-100 shadow-sm">
                <div class="card-body">
                    <h6 class="card-title text-muted">预算消耗</h6>
                    <h3 class="card-text" id="stat-cost">0.00</h3>
                    <div class="progress mt-2" style="height: 5px;">
                        <div class="progress-bar bg-success" id="progress-budget" role="progressbar" style="width: 0%"></div>
                    </div>
                    <small class="text-muted"><span id="stat-budget-pct">0</span>%</small>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card text-center h-100 shadow-sm">
                <div class="card-body">
                    <h6 class="card-title text-muted">总转化 (CV)</h6>
                    <h3 class="card-text text-primary" id="stat-cv">0</h3>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card text-center h-100 shadow-sm">
                <div class="card-body">
                    <h6 class="card-title text-muted">实际 CPA / 约束</h6>
                    <h3 class="card-text" id="stat-cpa">0.00</h3>
                    <small class="text-muted">Constraint: <span id="stat-cpa-constraint">0</span></small>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card text-center h-100 shadow-sm">
                <div class="card-body">
                    <h6 class="card-title text-muted">总获胜 (Wins)</h6>
                    <h3 class="card-text text-info" id="stat-wins">0</h3>
                </div>
            </div>
        </div>
    </div>

    <!-- 控制栏 -->
    <div class="card mb-4 shadow-sm">
        <div class="card-body d-flex align-items-center">
            <button class="btn btn-primary me-3" id="btn-play">▶ 播放</button>
            <div class="flex-grow-1">
                <label for="time-slider" class="form-label d-flex justify-content-between">
                    <span>时间步: <span id="current-step-display" class="fw-bold">0</span> / 48</span>
                    <span class="text-muted">拖动滑块查看历史</span>
                </label>
                <input type="range" class="form-range" min="0" max="48" step="1" value="0" id="time-slider">
            </div>
        </div>
    </div>

    <!-- 图表区域 -->
    <div class="row">
        <div class="col-md-12 mb-4">
            <div class="card shadow-sm">
                <div class="card-header bg-white fw-bold">Alpha (CPA阈值) & 实时CPA 变化</div>
                <div class="card-body">
                    <div id="chart-alpha" style="height: 300px; width: 100%;"></div>
                </div>
            </div>
        </div>
        <div class="col-md-6 mb-4">
            <div class="card shadow-sm">
                <div class="card-header bg-white fw-bold">累计消耗 (Cost)</div>
                <div class="card-body">
                    <div id="chart-cost" style="height: 300px; width: 100%;"></div>
                </div>
            </div>
        </div>
        <div class="col-md-6 mb-4">
            <div class="card shadow-sm">
                <div class="card-header bg-white fw-bold">转化 & 获胜 (Step Level)</div>
                <div class="card-body">
                    <div id="chart-wins" style="height: 300px; width: 100%;"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<footer class="text-center text-muted py-4">
    <small>Generated by AuctionNet OnlineLp Simulator</small>
</footer>

<!-- 数据加载 (定义 window.SIMULATION_DATA) -->
<script src="data/simulation_data.js"></script>
<!-- ECharts -->
<script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
<!-- Logic -->
<script src="app.js"></script>

</body>
</html>
